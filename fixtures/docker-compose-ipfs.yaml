version: '3.4'

services:
  ipfs0:
    container_name: ipfs0
    image: ipfs/go-ipfs:release
    ports:
      - "4001:4001" # ipfs swarm
      - "5001:5001" # ipfs api
    # - "10080:8080" # ipfs gateway
    volumes:
      - ./ipfs/ipfs0:/data/ipfs
    environment:
      LIBP2P_FORCE_PNET: 1

  ipfs1:
    container_name: ipfs1
    image: ipfs/go-ipfs:release
    ports:
      - "4002:4001" # ipfs swarm
      - "5002:5001" # ipfs api
    volumes:
      - ./ipfs/ipfs1:/data/ipfs
    environment:
      LIBP2P_FORCE_PNET: 1
    depends_on:
      - ipfs0

  ipfs2:
    container_name: ipfs2
    image: ipfs/go-ipfs:release
    ports:
      - "4003:4001" # ipfs swarm
      - "5003:5001" # ipfs api
    volumes:
      - ./ipfs/ipfs2:/data/ipfs
    environment:
      LIBP2P_FORCE_PNET: 1
    depends_on:
      - ipfs0

  ipfs3:
    container_name: ipfs3
    image: ipfs/go-ipfs:release
    ports:
      - "4004:4001" # ipfs swarm
      - "5004:5001" # ipfs api
    volumes:
      - ./ipfs/ipfs3:/data/ipfs
    environment:
      LIBP2P_FORCE_PNET: 1
    depends_on:
      - ipfs0

  ipfs16:
    container_name: ipfs16
    image: ipfs/go-ipfs:release
    ports:
      - "4017:4001" # ipfs swarm
      - "5017:5001" # ipfs api
    volumes:
      - ./ipfs/ipfs16:/data/ipfs
    environment:
      LIBP2P_FORCE_PNET: 1
    depends_on:
      - ipfs0

  ipfs17:
    container_name: ipfs17
    image: ipfs/go-ipfs:release
    ports:
      - "4018:4001" # ipfs swarm
      - "5018:5001" # ipfs api
    volumes:
      - ./ipfs/ipfs17:/data/ipfs
    environment:
      LIBP2P_FORCE_PNET: 1
    depends_on:
      - ipfs0

  ipfs18:
    container_name: ipfs18
    image: ipfs/go-ipfs:release
    ports:
      - "4019:4001" # ipfs swarm
      - "5019:5001" # ipfs api
    volumes:
      - ./ipfs/ipfs18:/data/ipfs
    environment:
      LIBP2P_FORCE_PNET: 1
    depends_on:
      - ipfs0

  ipfs19:
    container_name: ipfs19
    image: ipfs/go-ipfs:release
    ports:
      - "4020:4001" # ipfs swarm
      - "5020:5001" # ipfs api
    volumes:
      - ./ipfs/ipfs19:/data/ipfs
    environment:
      LIBP2P_FORCE_PNET: 1
    depends_on:
      - ipfs0
